<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API reference · PiecewiseAffineApprox</title><meta name="title" content="API reference · PiecewiseAffineApprox"/><meta property="og:title" content="API reference · PiecewiseAffineApprox"/><meta property="twitter:title" content="API reference · PiecewiseAffineApprox"/><meta name="description" content="Documentation for PiecewiseAffineApprox."/><meta property="og:description" content="Documentation for PiecewiseAffineApprox."/><meta property="twitter:description" content="Documentation for PiecewiseAffineApprox."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PiecewiseAffineApprox</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../howto/approximate_function/">Approximate a function</a></li><li><a class="tocitem" href="../../howto/approximate_points/">Approximate points</a></li><li><a class="tocitem" href="../../howto/add_to_model/">Add constraints to a model</a></li><li><a class="tocitem" href="../../howto/plot_approximation/">Plot approximations</a></li></ul></li><li><a class="tocitem" href="../../background/background/">Background</a></li><li class="is-active"><a class="tocitem" href>API reference</a><ul class="internal"><li><a class="tocitem" href="#Algorithms"><span>Algorithms</span></a></li><li><a class="tocitem" href="#Other-types"><span>Other types</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API reference</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h2 id="Algorithms"><a class="docs-heading-anchor" href="#Algorithms">Algorithms</a><a id="Algorithms-1"></a><a class="docs-heading-anchor-permalink" href="#Algorithms" title="Permalink"></a></h2><h2 id="Other-types"><a class="docs-heading-anchor" href="#Other-types">Other types</a><a id="Other-types-1"></a><a class="docs-heading-anchor-permalink" href="#Other-types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PiecewiseAffineApprox.Plane" href="#PiecewiseAffineApprox.Plane"><code>PiecewiseAffineApprox.Plane</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Plane{D}</code></pre><p>A D-dimensional hyperplane (αᵀx = β).</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PiecewiseAffineApprox.FunctionEvaluations" href="#PiecewiseAffineApprox.FunctionEvaluations"><code>PiecewiseAffineApprox.FunctionEvaluations</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FunctionEvaluations{D}</code></pre><p>A structure holding a set of points and the associated function values for a function f:ℜᴰ → ℜ.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PiecewiseAffineApprox.PWAFunc" href="#PiecewiseAffineApprox.PWAFunc"><code>PiecewiseAffineApprox.PWAFunc</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PWAFunc{C&lt;:Curvature,D}</code></pre><p>A piecewise linear function that can be either convex and concave represented by a set of (hyper)planes.</p><p>If the curvature of the function is convex, the piecewise linear Function is defined as the pointwise maximum over the planes. A concave pwa function is handled by storing its negative and negating when evaluting.</p></div></section></article><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PiecewiseAffineApprox.approx" href="#PiecewiseAffineApprox.approx"><code>PiecewiseAffineApprox.approx</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">approx(input::FunctionEvaluations{D}, c::Curvature, a::Algorithm)</code></pre><p>Return PWAFunc{Convex,D} or PWAFunc{Concave,D} depending on <code>c</code>, approximating the <code>input</code> points in <code>D</code> dimensions</p></div></section><section><div><pre><code class="language-julia hljs">approx(input::FunctionEvaluations, c::Convex, a::Cluster)</code></pre><p>Approximate using a heuristic that works for general dimensions.</p><p>Additional keyword arguments:</p><ul><li><code>trials</code>: number of restarts (default = 20)</li><li><code>itlim</code>: max refining iterations in each trial (default = 50),</li></ul></div></section><section><div><pre><code class="language-julia hljs">approx(input::FunctionEvaluations, c::Convex, a::Progressive)</code></pre><p>Approximate using a progressive fitting heuristic that adds planes until a specified error tolerance is met.</p><p>This algorithm requires that the data points provided are samples from a convex function.</p></div></section><section><div><pre><code class="language-julia hljs">approx(input::FunctionEvaluations, c::Convex, a::FullOrder)</code></pre><p>Approximate using full order fitting that adds planes for all sample points.</p><p>This algorithm requires that the data points provided are samples from a convex function.</p></div></section><section><div><pre><code class="language-julia hljs">approx(f::Function, bbox::Vector{&lt;:Tuple}, c::Curvature, a::Algorithm;  kwargs...)</code></pre><p>Approximate the function using a uniform sampling over the bounding box <code>bbox</code></p><p>Additional keyword arguments:</p><ul><li><code>nsample</code>: the number of points used in each dimension (default = 10)</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PiecewiseAffineApprox.enforce_curvature" href="#PiecewiseAffineApprox.enforce_curvature"><code>PiecewiseAffineApprox.enforce_curvature</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">enforce_curvature(f::FunctionEvaluations, curvature::Curvature, optimizer, metric = :l1)</code></pre><p>Create a slightly perturbed version of the function values to ensure that the data points can be interpolated by a convex/concave piecewise affine function.</p><p>Enforcing the curvature is performed using a linear optimization problem that adjust the function values and tries to minimize the total deviation. The total deviation can be measured in different metrics specified by the <code>metric</code> parameter. This function can be useful as a pre-step for running the full-order and progressive fitting heuristics that require data points that are convex/concave in this sense.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PiecewiseAffineApprox.evaluate" href="#PiecewiseAffineApprox.evaluate"><code>PiecewiseAffineApprox.evaluate</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">evaluate(pwa::PWAFunc{Convex,D}, x) where {D}</code></pre><p>Evaluate the convex piecewise linear function at the point x.</p></div></section><section><div><pre><code class="language-julia hljs">evaluate(pwa::PWAFunc{Concave,D}, x) where {D}</code></pre><p>Evaluate the concave piecewise linear function at the point x.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PiecewiseAffineApprox.pwaffine" href="#PiecewiseAffineApprox.pwaffine"><code>PiecewiseAffineApprox.pwaffine</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pwaffine(m::JuMP.Model, x::Tuple, pwa::PWAFunc{C,D}; z=nothing, kwargs...) where {C,D}</code></pre><p>Add constraints to JuMP-model <code>m</code> for JuMP-variable <code>z</code> as a   piecewise linear function/approximation <code>pwa</code> of JuMP-variables <code>x</code>    </p></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../background/background/">« Background</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Tuesday 21 January 2025 15:06">Tuesday 21 January 2025</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
